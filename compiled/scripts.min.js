/*! forest 2015-05-13 */
function randomSign(a){return Math.random()<.5?-a:a}function constrainer(a,b){return function(c){return Math.max(a,Math.min(c,b))}}var requestAnimFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,cancelAnimFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame;!function(){function a(){function a(){this.x=Math.round(Math.random()*k.canvas.width),this.y=-10,this.drift=2*Math.random()-1,this.speed=Math.round(1*Math.random()+1),this.width=3*Math.random()+2,this.height=this.width}function b(a,b,c,d){a.save(),a.beginPath(),a.translate(b,c),a.arc(0,0,d,0,2*Math.PI,!1),a.closePath(),a.restore()}function c(){for(var a=0;a<l.length;a++)l[a].y<k.canvas.height&&(l[a].y+=l[a].speed,l[a].y+l[a].width>k.canvas.height&&(l[a].y=-10)),l[a].x<k.canvas.width&&(l[a].x+=l[a].drift,l[a].x>k.canvas.width&&(l[a].x=10))}function d(){k.save(),f();for(var a=0;a<l.length;a++)b(k,l[a].x,l[a].y,l[a].width),k.fillStyle="#ffffff",k.shadowBlur=10,k.globalAlpha=.8,k.shadowColor="#ffffff",k.fill();k.restore()}function e(){l[l.length]=new a,l.length>=n&&clearInterval(m)}function f(){k.clearRect(0,0,k.canvas.width,k.canvas.height)}function g(){c(),d(),h=requestAnimFrame(g)}var h,i={},j=null,k=null,l=[],m=null,n=50;return i.init=function(){j=document.getElementById("canvas2"),k=j.getContext("2d"),j.width=window.innerWidth,j.height=window.innerHeight,i.start()},i.start=function(){m=setInterval(e,1e3),d(),h=requestAnimFrame(g)},i.stop=function(){window.cancelAnimFrame(h),clearInterval(m),f()},i}window.snow=a}(),function(){var a=document.getElementById("snow-toggle"),b=document.getElementById("content"),c=snow();c.init(),a.addEventListener("click",function(a){"stop-snow"==this.value?(c.stop(),this.value="start-snow",this.innerHTML="Start Snow",b.classList.add("sunny")):(c.start(),this.value="stop-snow",this.innerHTML="Stop Snow",b.classList.remove("sunny"))})}(),function(){"use strict";var a,b=null,c=null,d=null,e=1*Math.PI/3,f=function(e){function f(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,c=canvas.width,d=canvas.height;var a=500>c?c/2:500,b=g(c/2,d,-(Math.PI/2),10,a,randomSign(.03));b.draw(),h()}function h(){a.drawImage(canvas,0,0)}return self={},self.init=function(){document.getElementById(e),document.createElement("canvas");b=canvas.getContext("2d"),a=canvas.getContext("2d"),f(),setTimeout(function(){canvas.classList.remove("loading")},300)},self},g=function(a,c,d,f,h,i){function j(a,c,d,f,g,h){if(j){var i,k,l,m,n=0,o=0,p=1.2,q=constrainer(0,Math.abs(h)/2);if(g<-Math.PI/2&&Math.abs(Math.PI+g)<e){var r=q(Math.abs(h)/2*(1-Math.abs(g+Math.PI)/Math.PI/2));n=(Math.abs(h)-r)/2*Math.cos(g+Math.PI/2)*p,o=(Math.abs(h)-r)/2*Math.sin(g+Math.PI/2)*p,i=a+n-Math.abs(h)*Math.cos(g)/4,l=c+o-Math.abs(h)*Math.sin(g)/4,k=d+n,m=f+o}if(g>-Math.PI/2&&Math.abs(g)<e){var r=q(Math.abs(h)/2*(1-Math.abs(g)/Math.PI/2));n=(Math.abs(h)-r)/2*Math.cos(g-Math.PI/2)*p,o=(Math.abs(h)-r)/2*Math.sin(g-Math.PI/2)*p,i=a+n-Math.abs(h)*Math.cos(g)/4,l=c+o-Math.abs(h)*Math.sin(g)/4,k=d+n,m=f+o}b.save(),b.strokeStyle="#FFFFFF",b.lineWidth=r,b.beginPath(),b.moveTo(i,l),b.lineTo(k,m),b.stroke(),b.restore()}}var k,l={},m=50,n=.3,o=.5,p=Math.PI/6,q=.3,r=0;return l.x1=a,l.y1=c,l.x2=a,l.y2=c,l.theta=d,l.branchWidth0=f,l.branchWidth=l.branchWidth0,l.totalBranchLength=h,l.dThetaGrowMax=i,l.draw=function(){for(l.branchWidth<.7&&(r=l.totalBranchLength);r<l.totalBranchLength;){l.branchWidth=l.branchWidth0*(1-r/l.totalBranchLength),k=l.totalBranchLength/m,r+=k,l.theta+=randomSign(l.dThetaGrowMax),l.x2=l.x1+k*Math.cos(l.theta),l.y2=l.y1+k*Math.sin(l.theta),b.save(),b.strokeStyle="#000000",b.beginPath(),b.moveTo(l.x1,l.y1),b.lineTo(l.x2,l.y2),b.lineWidth=Math.abs(l.branchWidth),b.lineCap="round",b.stroke(),b.restore();var a=l.x1,c=l.y1,d=l.theta+randomSign(p),e=l.branchWidth,f=l.totalBranchLength*o,h=Math.PI/36;if(r/l.totalBranchLength>n&&Math.random()<q){var i=g(a,c,d,e,f,h);i.draw()}j(l.x1,l.y1,l.x2,l.y2,l.theta,l.branchWidth),l.x1=l.x2,l.y1=l.y2}},l};window.forest=f}();var f=forest("canvas");f.init();